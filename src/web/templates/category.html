{% extends "base.html" %}

{% block title %}{{ category_name.replace('_', ' ').title() }} - Facebook Data{% endblock %}

{% block content %}
<div class="breadcrumb">
    <a href="/">🏠 Home</a> / {{ category_name.replace('_', ' ').title() }}
</div>

<div class="card">
    <h2>
        {% if category_name == 'your_facebook_activity' %}🎯
        {% elif category_name == 'personal_information' %}👤
        {% elif category_name == 'connections' %}👥
        {% elif category_name == 'ads_information' %}📢
        {% elif category_name == 'security_and_login_information' %}🔒
        {% elif category_name == 'preferences' %}⚙️
        {% elif category_name == 'logged_information' %}📝
        {% else %}📁
        {% endif %}
        {{ category_name.replace('_', ' ').title() }}
    </h2>
    
    <div class="stats">
        <div class="stat">
            <div class="stat-value">{{ category.file_count }}</div>
            <div class="stat-label">Total Files</div>
        </div>
        <div class="stat">
            <div class="stat-value">{{ category.size_human }}</div>
            <div class="stat-label">Total Size</div>
        </div>
        <div class="stat">
            <div class="stat-value">{{ category.subdirs|length }}</div>
            <div class="stat-label">Subdirectories</div>
        </div>
        <div class="stat">
            <div class="stat-value">{{ category.files|length }}</div>
            <div class="stat-label">Direct Files</div>
        </div>
    </div>
</div>

{% if category.files %}
<div class="card">
    <h2>📄 Files</h2>
    <div class="file-list">
        {% for file in category.files %}
        <div class="file-item">
            <span class="file-name">
                {% if file.type == 'json' %}
                    <a href="/file/{{ category.path }}/{{ file.name }}">📋 {{ file.name }}</a>
                {% else %}
                    📎 {{ file.name }}
                {% endif %}
            </span>
            <span class="file-meta">{{ file.size_human }} • {{ file.type.upper() }}</span>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

{% if category.subdirs %}
<div class="card">
    <h2>📁 Subdirectories</h2>
    <div class="dir-list">
        {% for subdir in category.subdirs %}
        <div class="dir-item">
            <span class="dir-name">
                📁 {{ subdir.name }}
            </span>
            <span class="dir-meta">{{ subdir.file_count }} files • {{ subdir.size_human }}</span>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

{% if not category.files and not category.subdirs %}
<div class="card">
    <h2>📭 Empty Category</h2>
    <p>This category appears to be empty or contains no accessible files.</p>
</div>
{% endif %}

<a href="/" class="back-link">← Back to Overview</a>
{% endblock %}
