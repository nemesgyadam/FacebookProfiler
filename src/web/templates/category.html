{% extends "base.html" %}

{% block title %}{{ category_name.replace('_', ' ').title() }} - Facebook Data{% endblock %}

{% block content %}
<div class="breadcrumb">
    <a href="/">ğŸ  Home</a> / {{ category_name.replace('_', ' ').title() }}
</div>

<div class="card">
    <h2>
        {% if category_name == 'your_facebook_activity' %}ğŸ¯
        {% elif category_name == 'personal_information' %}ğŸ‘¤
        {% elif category_name == 'connections' %}ğŸ‘¥
        {% elif category_name == 'ads_information' %}ğŸ“¢
        {% elif category_name == 'security_and_login_information' %}ğŸ”’
        {% elif category_name == 'preferences' %}âš™ï¸
        {% elif category_name == 'logged_information' %}ğŸ“
        {% else %}ğŸ“
        {% endif %}
        {{ category_name.replace('_', ' ').title() }}
    </h2>
    
    <div class="stats">
        <div class="stat">
            <div class="stat-value">{{ category.file_count }}</div>
            <div class="stat-label">Total Files</div>
        </div>
        <div class="stat">
            <div class="stat-value">{{ category.size_human }}</div>
            <div class="stat-label">Total Size</div>
        </div>
        <div class="stat">
            <div class="stat-value">{{ category.subdirs|length }}</div>
            <div class="stat-label">Subdirectories</div>
        </div>
        <div class="stat">
            <div class="stat-value">{{ category.files|length }}</div>
            <div class="stat-label">Direct Files</div>
        </div>
    </div>
</div>

{% if category.files %}
<div class="card">
    <h2>ğŸ“„ Files</h2>
    <div class="file-list">
        {% for file in category.files %}
        <div class="file-item">
            <span class="file-name">
                {% if file.type == 'json' %}
                    <a href="/file/{{ category.path }}/{{ file.name }}">ğŸ“‹ {{ file.name }}</a>
                {% else %}
                    ğŸ“ {{ file.name }}
                {% endif %}
            </span>
            <span class="file-meta">{{ file.size_human }} â€¢ {{ file.type.upper() }}</span>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

{% if category.subdirs %}
<div class="card">
    <h2>ğŸ“ Subdirectories</h2>
    <div class="dir-list">
        {% for subdir in category.subdirs %}
        <div class="dir-item">
            <span class="dir-name">
                ğŸ“ {{ subdir.name }}
            </span>
            <span class="dir-meta">{{ subdir.file_count }} files â€¢ {{ subdir.size_human }}</span>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

{% if not category.files and not category.subdirs %}
<div class="card">
    <h2>ğŸ“­ Empty Category</h2>
    <p>This category appears to be empty or contains no accessible files.</p>
</div>
{% endif %}

<a href="/" class="back-link">â† Back to Overview</a>
{% endblock %}
